<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>My Angular App</title>
    <base href="/" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="font-montserrat">
    <section class="grid">
      <article class="accordion">
        <h1 class="accordion-title">Veelgekochte producten</h1>
        <mat-accordion class="accordion">
          <mat-expansion-panel
            *ngFor="let product of products | slice : 0 : 4; let i = index"
            class="accordion-item"
            [ngClass]="{ menuOpenBg: isMenuOpen[i] }"
            (opened)="toggleAccordionItem(i)"
            (closed)="toggleAccordionItem(i)"
            hideToggle
          >
            <mat-expansion-panel-header>
              <mat-panel-title>
                <mat-icon *ngIf="!isMenuOpen[i]" class="accordion-icon__add"
                  >add</mat-icon
                >
                <mat-icon *ngIf="isMenuOpen[i]" class="accordion-icon__min"
                  >minimize</mat-icon
                >
                <h2 class="accordion-item__title">
                  {{ product.title }}
                </h2>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <p class="accordion-item__body">{{ product.description }}</p>
          </mat-expansion-panel>
        </mat-accordion>
        <section>
          <button class="accordion-btn group" (click)="startCounting()">
            <span class="accordion-btn__box"></span>
            <span class="accordion-btn__text"> Bekijk alles </span>
            <mat-icon
              class="accordion-btn__icon"
              [ngClass]="spin ? 'animate-spin' : ''"
              >keyboard_arrow_right
            </mat-icon>
          </button>
        </section>
      </article>
    </section>
  </body>
</html>
